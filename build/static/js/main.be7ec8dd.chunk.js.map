{"version":3,"sources":["actions/actionTypes.js","reducers/files.js","reducers/healthCheck.js","reducers/index.js","Store.js","actions/files.js","component/FileView.js","component/FolderView.js","actions/healthCheck.js","component/Header.js","App.js","reportWebVitals.js","util/healthCheckWorker.js","index.js"],"names":["SET_FILES","SET_HEALTH","initialState","parentId","files","healthy","combineReducers","state","action","type","payload","healthCheck","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","getFiles","home","forceRefresh","dispatch","a","apiPath","axios","get","resp","console","log","data","error","mapDispatchToProps","connect","props","file","openDeleteModal","DisplayName","FileName","CreatedAt","Id","IsDir","createAtDateStr","Date","toDateString","class","className","style","data-tooltip","to","onClick","href","fileItems","id","queryString","parse","location","search","useState","deleteModalVisible","updateDeleteModalVisibility","fileIdToDelete","setFileIdToDelete","useEffect","length","map","f","checkHealth","App","path","component","FolderView","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","startHealthCheckWorker","value","uuidv4","key","localStorage","setItem","setInterval","getItem","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be7ec8dd.chunk.js","sourcesContent":["const SET_FILES=\"SET_FILES\"\r\nconst SET_HEALTH=\"SET_HEALTH\"\r\nexport {\r\n    SET_FILES,\r\n    SET_HEALTH\r\n}","import { SET_FILES } from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  parentId: -1,\r\n  files: [],\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_FILES:\r\n      return {\r\n        ...state,\r\n        parentId: payload.parentId,\r\n        files: [...payload.files],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_HEALTH } from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n    healthy : true\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_HEALTH:\r\n      return {\r\n        ...state,\r\n        healthy:payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport files from './files'\r\nimport healthCheck from './healthCheck'\r\nexport default combineReducers({files,healthCheck });","import { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;","import { SET_FILES } from \"./actionTypes\";\r\nimport axios from \"axios\";\r\n\r\nexport const getFiles =  (parentId, home, forceRefresh) => async(dispatch) => {\r\n\tlet apiPath =\"\"\r\n    if (home || !parentId){\r\n        apiPath = \"/fs/getPaginated?pageNo=1&pageSize=100\"\r\n        parentId = 0;\r\n    }else{\r\n        apiPath = `fs/getFilesByParentId?parentID=${parentId}`\r\n    }\r\n    try{\r\n    let resp = await axios.get(apiPath);\r\n    console.log(\"resp \", resp)\r\n    let data = resp.data\r\n    console.log()\r\n    dispatch({type:SET_FILES, payload:{parentId:parentId, files:data}})\r\n    }\r\n    catch(err){\r\n        console.error(err)\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getFiles } from \"../actions/files\";\r\n\r\nconst FileView = (props) => {\r\n  let { file, getFiles ,openDeleteModal} = props;\r\n  if (!file) {\r\n    return \"Empty File\";\r\n  }\r\n  console.log(\"getFiles is\", getFiles);\r\n  let { DisplayName, FileName, CreatedAt, Id, IsDir } = file;\r\n  let triggerDeleteFile=()=>{\r\n    openDeleteModal(Id)\r\n  }\r\n  let openFile = () => {\r\n    getFiles(Id);\r\n  };\r\n  let downloadFile = () => {\r\n    let link = document.createElement(\"a\");\r\n    link.href = \"http://192.168.1.27:9010/fs/downloadFileById?id=\" + Id;\r\n    link.target = \"_blank\";\r\n    link.download = FileName;\r\n    link.click();\r\n  };\r\n  let createAtDateStr = new Date(CreatedAt).toDateString();\r\n  return (\r\n    <div class=\"ui card\">\r\n      <div class=\"content\">\r\n        <div\r\n          className=\"header\"\r\n          style={{ \"word-break\": \"break-all\" }}\r\n          data-tooltip={FileName}\r\n        >\r\n          {IsDir &&<i class=\"folder icon\"></i>}\r\n          {DisplayName}{\" \"}\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"ui small feed\">\r\n          <div class=\"event\">\r\n            <div class=\"content\">\r\n              <div class=\"summary\">\r\n                <i class=\"calendar alternate outline icon\" ></i>\r\n                {createAtDateStr}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"extra content \">\r\n        {IsDir ? (\r\n          <Link to={\"/?id=\" + Id}>\r\n            {/* <button class=\"ui button\" onClick={openFile}> */}\r\n            <i class=\"folder icon open big\" onClick={openFile}></i>\r\n            {/* </button> */}\r\n          </Link>\r\n        ) : (\r\n          <a href={\"http://192.168.1.27:9010/fs/downloadFileById?id=\" + Id}>\r\n            <i class=\"cloud download icon big\"></i>\r\n          </a>\r\n        )}\r\n\r\n        <div class=\"right floated author\">\r\n          <i class=\"trash alternate outline icon big\" onClick={triggerDeleteFile}></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = {\r\n  getFiles,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileView);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getFiles } from \"../actions/files\";\r\nimport FileView from \"./FileView\";\r\nimport queryString from 'query-string'\r\n\r\nconst FolderView = (props) => {\r\n    const value=queryString.parse(props.location.search);\r\nconst id=value.id;\r\nconsole.log('token',id)//123\r\n  let {\r\n    getFiles,\r\n    fileItems,\r\n  } = props;\r\n//   let id = params.id;\r\n  let refreshPage = () => {\r\n    if (id) {\r\n      getFiles(id);\r\n    } else {\r\n      getFiles(null, true);\r\n    }\r\n  };\r\n  let [deleteModalVisible, updateDeleteModalVisibility] = useState(false);\r\n  let [fileIdToDelete, setFileIdToDelete] = useState(0)\r\n  useEffect(() => {\r\n    refreshPage();\r\n  }, [id]);\r\n\r\n  let openDeleteModal = (id)=>{\r\n      console.log(\"show delete modal\")\r\n    setFileIdToDelete(id)\r\n    updateDeleteModalVisibility(true)\r\n  }\r\n  let closeDeleteModal = ()=>{\r\n    updateDeleteModalVisibility(false)\r\n  }\r\n  let deleteFile = () => {\r\n    console.log(\"delete file \",fileIdToDelete )\r\n    updateDeleteModalVisibility(false)\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui three column grid\">\r\n      {fileItems && fileItems.length > 0\r\n        ? fileItems.map((f) => (\r\n            <div className=\"column\" key={f.Id}>\r\n              <FileView file={f} key={f.Id} openDeleteModal={openDeleteModal}></FileView>\r\n            </div>\r\n          ))\r\n        : \"No files found\"}\r\n      {deleteModalVisible && (\r\n        <div class=\"ui basic modal\">\r\n          <div class=\"ui icon header\">\r\n          <i class=\"trash alternate outline icon\"></i>\r\n          </div>\r\n          <div class=\"content\">\r\n            <p>\r\n              Delete file?\r\n            </p>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <div class=\"ui red basic cancel inverted button\">\r\n              <i class=\"remove icon\" onClick={closeDeleteModal}></i>\r\n              No\r\n            </div>\r\n            <div class=\"ui green ok inverted button\">\r\n              <i class=\"checkmark icon\" onClick={deleteFile}></i>\r\n              Yes\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  fileItems: state.files.files,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getFiles,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FolderView);\r\n","import { SET_HEALTH } from \"./actionTypes\";\r\nimport axios from \"axios\";\r\n\r\nexport const checkHealth =\r\n  (parentId, home, forceRefresh) => async (dispatch) => {\r\n    let apiPath = \"/fs/health\";\r\n    try {\r\n      let resp = await axios.get(apiPath);\r\n      dispatch({ type: SET_HEALTH, payload: true });\r\n    } catch (err) {\r\n      console.log(\"err is \", err);\r\n      dispatch({ type: SET_HEALTH, payload: false });\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { checkHealth } from \"../actions/healthCheck\";\r\n\r\nconst Header = (props) => {\r\n  let { healthy } = props;\r\n  console.log(\"healthy is \", healthy);\r\n  return (\r\n    <div className=\"ui inverted menu\">\r\n        <Link to=\"/\">\r\n      <div className=\"header item\" >\r\n        <i className=\"cloud upload icon\"></i>FILE SERVER\r\n      </div>\r\n      </Link>\r\n      <div class=\"right menu\">\r\n        <div class=\"item\">\r\n          {healthy ? (\r\n            <i class=\"green wifi icon big\"></i>\r\n          ) : (\r\n            <i class=\"red exclamation circle icon big\"></i>\r\n          )}\r\n          {/* <div class=\"ui transparent inverted icon input\">\r\n            <i class=\"search icon\"></i>\r\n            <input type=\"text\" placeholder=\"Search\" />\r\n          </div> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(\"state: \", state);\r\n  return {\r\n    healthy: state.healthCheck.healthy,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  checkHealth,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import './App.css';\nimport { Provider } from 'react-redux';\nimport store from './Store';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport FolderView from './component/FolderView';\nimport Header from './component/Header';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"ui container\">\n      <Router>\n      <Header></Header>\n          <Switch>\n            <Route\n            path=\"/:id\"\n            component ={FolderView}\n            />\n            <Route path=\"/\"\n            component={FolderView}\n            />\n          </Switch>\n      </Router>\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { checkHealth } from '../actions/healthCheck';\r\nimport store from '../Store'\r\n// import  from '../actions/healthCheck'\r\n\r\nconst startHealthCheckWorker = ()=>{\r\n    let value = uuidv4();\r\n    let key = \"HEALTH_CHECK_WORKER_ID\"\r\n    localStorage.setItem(key,value)\r\n    let healthCheckWorker = ()=>{\r\n        if (localStorage.getItem(key)==value){\r\n        store.dispatch(checkHealth());\r\n        }\r\n    }\r\n    setInterval(healthCheckWorker, 1000)\r\n}\r\n\r\nexport default startHealthCheckWorker","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios'\nimport startHealthCheckWorker from './util/healthCheckWorker';\n// import star from './util/healthCheckWorker'\n\naxios.defaults.baseURL = \"http://192.168.1.27:9010\"\nstartHealthCheckWorker()\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}